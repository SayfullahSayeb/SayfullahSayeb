<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Making Your PWA Work Across All Pages | Sayfullah Sayeb</title>
<meta name=keywords content><meta name=description content='This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you don&rsquo;t add the <link rel="manifest" href="manifest.json"> manually to every page.
1. Add the Manifest File
Create a manifest.json file in the root directory of your project. (you can use this: https://pwa.zneloy.site/)
2. Add a Service Worker (sw.js)
Create a sw.js file in the root directory of your project. Use the following code:
self.addEventListener(&lsquo;install&rsquo;, (event) => { console.log(&lsquo;Service Worker installed&rsquo;); }); self.addEventListener(&lsquo;activate&rsquo;, (event) => { console.log(&lsquo;Service Worker activated&rsquo;); }); self.addEventListener(&lsquo;fetch&rsquo;, (event) => { if (event.request.destination === &lsquo;document&rsquo;) { event.respondWith( (async () => { const response = await fetch(event.request); const text = await response.text(); console.log(&lsquo;Fetched:&rsquo;, event.request.url); const modifiedResponse = text.replace( &lsquo;&rsquo;, &rsquo;&rsquo; ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });'><meta name=author content="Sayfullah Sayeb"><link rel=canonical href=//localhost:1313/2025/01/making-your-pwa-work-across-all-pages.html><link crossorigin=anonymous href=/assets/css/stylesheet.e268a3875e92790fb13144d41f6ac7da9e4c6cee10f483c284a0d08940ae6704.css integrity="sha256-4mijh16SeQ+xMUTUH2rH2p5MbO4Q9IPChKDQiUCuZwQ=" rel="preload stylesheet" as=style><link rel=icon href=//localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=//localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=//localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=//localhost:1313/apple-touch-icon.png><link rel=mask-icon href=//localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=//localhost:1313/2025/01/making-your-pwa-work-across-all-pages.html><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="//localhost:1313/2025/01/making-your-pwa-work-across-all-pages.html"><meta property="og:site_name" content="Sayfullah Sayeb"><meta property="og:title" content="Making Your PWA Work Across All Pages"><meta property="og:description" content='This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you donâ€™t add the <link rel="manifest" href="manifest.json"> manually to every page.
1. Add the Manifest File Create a manifest.json file in the root directory of your project. (you can use this: https://pwa.zneloy.site/)
2. Add a Service Worker (sw.js) Create a sw.js file in the root directory of your project. Use the following code:
self.addEventListener(â€˜installâ€™, (event) => { console.log(â€˜Service Worker installedâ€™); }); self.addEventListener(â€˜activateâ€™, (event) => { console.log(â€˜Service Worker activatedâ€™); }); self.addEventListener(â€˜fetchâ€™, (event) => { if (event.request.destination === â€˜documentâ€™) { event.respondWith( (async () => { const response = await fetch(event.request); const text = await response.text(); console.log(â€˜Fetched:â€™, event.request.url); const modifiedResponse = text.replace( â€˜â€™, â€™â€™ ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-18T23:28:00+06:00"><meta property="article:modified_time" content="2025-01-18T23:28:00+06:00"><meta property="og:image" content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Making Your PWA Work Across All Pages"><meta name=twitter:description content='This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you don&rsquo;t add the <link rel="manifest" href="manifest.json"> manually to every page.
1. Add the Manifest File
Create a manifest.json file in the root directory of your project. (you can use this: https://pwa.zneloy.site/)
2. Add a Service Worker (sw.js)
Create a sw.js file in the root directory of your project. Use the following code:
self.addEventListener(&lsquo;install&rsquo;, (event) => { console.log(&lsquo;Service Worker installed&rsquo;); }); self.addEventListener(&lsquo;activate&rsquo;, (event) => { console.log(&lsquo;Service Worker activated&rsquo;); }); self.addEventListener(&lsquo;fetch&rsquo;, (event) => { if (event.request.destination === &lsquo;document&rsquo;) { event.respondWith( (async () => { const response = await fetch(event.request); const text = await response.text(); console.log(&lsquo;Fetched:&rsquo;, event.request.url); const modifiedResponse = text.replace( &lsquo;&rsquo;, &rsquo;&rsquo; ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts / index","item":"//localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Making Your PWA Work Across All Pages","item":"//localhost:1313/2025/01/making-your-pwa-work-across-all-pages.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Making Your PWA Work Across All Pages","name":"Making Your PWA Work Across All Pages","description":"This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you don\u0026rsquo;t add the \u0026lt;link rel=\u0026quot;manifest\u0026quot; href=\u0026quot;manifest.json\u0026quot;\u0026gt; manually to every page.\n1. Add the Manifest File Create a manifest.json file in the root directory of your project. (you can use this: https://pwa.zneloy.site/)\n2. Add a Service Worker (sw.js) Create a sw.js file in the root directory of your project. Use the following code:\nself.addEventListener(\u0026lsquo;install\u0026rsquo;, (event) =\u0026gt; { console.log(\u0026lsquo;Service Worker installed\u0026rsquo;); }); self.addEventListener(\u0026lsquo;activate\u0026rsquo;, (event) =\u0026gt; { console.log(\u0026lsquo;Service Worker activated\u0026rsquo;); }); self.addEventListener(\u0026lsquo;fetch\u0026rsquo;, (event) =\u0026gt; { if (event.request.destination === \u0026lsquo;document\u0026rsquo;) { event.respondWith( (async () =\u0026gt; { const response = await fetch(event.request); const text = await response.text(); console.log(\u0026lsquo;Fetched:\u0026rsquo;, event.request.url); const modifiedResponse = text.replace( \u0026lsquo;\u0026rsquo;, \u0026rsquo;\u0026rsquo; ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });\n","keywords":[],"articleBody":"This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you donâ€™t add the manually to every page.\n1. Add the Manifest File Create a manifest.json file in the root directory of your project. (you can use this: https://pwa.zneloy.site/)\n2. Add a Service Worker (sw.js) Create a sw.js file in the root directory of your project. Use the following code:\nself.addEventListener(â€˜installâ€™, (event) =\u003e { console.log(â€˜Service Worker installedâ€™); }); self.addEventListener(â€˜activateâ€™, (event) =\u003e { console.log(â€˜Service Worker activatedâ€™); }); self.addEventListener(â€˜fetchâ€™, (event) =\u003e { if (event.request.destination === â€˜documentâ€™) { event.respondWith( (async () =\u003e { const response = await fetch(event.request); const text = await response.text(); console.log(â€˜Fetched:â€™, event.request.url); const modifiedResponse = text.replace( â€˜â€™, â€™â€™ ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });\n3. Add this code before body end tag, in your main index page if (â€˜serviceWorkerâ€™ in navigator) { navigator.serviceWorker .register(â€™/sw.jsâ€™) .then((registration) =\u003e { console.log(â€˜Service Worker registered:â€™, registration); }) .catch((error) =\u003e { console.log(â€˜Service Worker registration failed:â€™, error); }); }\nTest Your PWA Open your browser (preferably Chrome or Edge). Visit your siteâ€™s index.html page. Open DevTools (F12 or Ctrl+Shift+I): Go to the Application tab. Check Service Workers to confirm that your service worker is active. Navigate to another page (e.g. test.html). Check the section of the page in DevTools \u003e Elements: Ensure the is present. Key Points Place the sw.js file and manifest.json in the root directory of your project. The service worker automatically injects the into all pages. You only need to include the service worker registration script in your main index.html. With this setup, your PWA will work seamlessly across all pages without manually adding the . ðŸ˜Š\nAdd an Install Button in website (Optional) Add this code to implement an install button:\nInstall App let deferredPrompt; const installButton = document.getElementById(â€˜installButtonâ€™); installButton.style.display = â€™noneâ€™; window.addEventListener(â€˜beforeinstallpromptâ€™, (e) =\u003e { e.preventDefault(); deferredPrompt = e; installButton.style.display = â€˜blockâ€™; installButton.addEventListener(â€˜clickâ€™, () =\u003e { deferredPrompt.prompt(); deferredPrompt.userChoice.then((choiceResult) =\u003e { if (choiceResult.outcome === â€˜acceptedâ€™) { console.log(â€˜User accepted the A2HS promptâ€™); } else { console.log(â€˜User dismissed the A2HS promptâ€™); } deferredPrompt = null; }); }); });\n","wordCount":"351","inLanguage":"en","image":"//localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-01-18T23:28:00+06:00","dateModified":"2025-01-18T23:28:00+06:00","author":{"@type":"Person","name":"Sayfullah Sayeb"},"mainEntityOfPage":{"@type":"WebPage","@id":"//localhost:1313/2025/01/making-your-pwa-work-across-all-pages.html"},"publisher":{"@type":"Organization","name":"Sayfullah Sayeb","logo":{"@type":"ImageObject","url":"//localhost:1313/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=//localhost:1313/ accesskey=h title="Sayfullah Sayeb (Alt + H)">Sayfullah Sayeb</a><div class=logo-switches></div></div><ul id=menu><li><a href=//localhost:1313/ title="Main Page"><span>Main Page</span></a></li><li><a href=//localhost:1313/about/ title=About><span>About</span></a></li><li><a href=//localhost:1313/posts/ title=Posts><span>Posts</span></a></li><li><a href=//localhost:1313/projects/ title=Projects><span>Projects</span></a></li><li><a href=//localhost:1313/photography/ title=Photography><span>Photography</span></a></li><li><a href=//localhost:1313/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=//localhost:1313/>Home</a>&nbsp;Â»&nbsp;<a href=//localhost:1313/posts/>Posts / index</a></div><h1 class="post-title entry-hint-parent">Making Your PWA Work Across All Pages</h1><div class=post-meta><span title='2025-01-18 23:28:00.046 +0600 +06'>January 18, 2025</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Sayfullah Sayeb</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-add-the-manifest-file>1. Add the Manifest File</a></li><li><a href=#2-add-a-service-worker-swjs>2. Add a Service Worker (sw.js)</a></li><li><a href=#3-add-this-code-before-body-end-tag-in-your-main-index-page>3. Add this code before body end tag, in your main index page</a></li><li><a href=#test-your-pwa>Test Your PWA</a></li><li><a href=#key-points>Key Points</a></li><li><a href=#add-an-install-button-in-website-optional>Add an Install Button in website (Optional)</a></li></ul></nav></div></details></div><div class=post-content><p>This guide explains how to make your Progressive Web App (PWA) functional across all pages, even if you don&rsquo;t add the <code>&lt;link rel="manifest" href="manifest.json"></code> manually to every page.</p><h2 id=1-add-the-manifest-file>1. Add the Manifest File<a hidden class=anchor aria-hidden=true href=#1-add-the-manifest-file>#</a></h2><p>Create a manifest.json file in the root directory of your project. (you can use this: <a href=https://pwa.zneloy.site/>https://pwa.zneloy.site/</a>)</p><h2 id=2-add-a-service-worker-swjs>2. Add a Service Worker (sw.js)<a hidden class=anchor aria-hidden=true href=#2-add-a-service-worker-swjs>#</a></h2><p>Create a sw.js file in the root directory of your project. Use the following code:</p><p>self.addEventListener(&lsquo;install&rsquo;, (event) => { console.log(&lsquo;Service Worker installed&rsquo;); }); self.addEventListener(&lsquo;activate&rsquo;, (event) => { console.log(&lsquo;Service Worker activated&rsquo;); }); self.addEventListener(&lsquo;fetch&rsquo;, (event) => { if (event.request.destination === &lsquo;document&rsquo;) { event.respondWith( (async () => { const response = await fetch(event.request); const text = await response.text(); console.log(&lsquo;Fetched:&rsquo;, event.request.url); const modifiedResponse = text.replace( &lsquo;&rsquo;, &rsquo;&rsquo; ); return new Response(modifiedResponse, { headers: response.headers, }); })() ); } });</p><h2 id=3-add-this-code-before-body-end-tag-in-your-main-index-page>3. Add this code before body end tag, in your main index page<a hidden class=anchor aria-hidden=true href=#3-add-this-code-before-body-end-tag-in-your-main-index-page>#</a></h2><p>if (&lsquo;serviceWorker&rsquo; in navigator) { navigator.serviceWorker .register(&rsquo;/sw.js&rsquo;) .then((registration) => { console.log(&lsquo;Service Worker registered:&rsquo;, registration); }) .catch((error) => { console.log(&lsquo;Service Worker registration failed:&rsquo;, error); }); }</p><h2 id=test-your-pwa>Test Your PWA<a hidden class=anchor aria-hidden=true href=#test-your-pwa>#</a></h2><ol><li>Open your browser (preferably Chrome or Edge).</li><li>Visit your site&rsquo;s index.html page.</li><li>Open DevTools (F12 or Ctrl+Shift+I):</li><li>Go to the Application tab.</li><li>Check Service Workers to confirm that your service worker is active.</li><li>Navigate to another page (e.g. test.html).</li><li>Check the section of the page in DevTools > Elements:</li><li>Ensure the is present.</li></ol><h2 id=key-points>Key Points<a hidden class=anchor aria-hidden=true href=#key-points>#</a></h2><ul><li>Place the sw.js file and manifest.json in the root directory of your project.</li><li>The service worker automatically injects the into all pages.</li><li>You only need to include the service worker registration script in your main index.html.</li></ul><p>With this setup, your PWA will work seamlessly across all pages without manually adding the <code>&lt;link rel="manifest" href="manifest.json"></code>. ðŸ˜Š</p><h2 id=add-an-install-button-in-website-optional>Add an Install Button in website (Optional)<a hidden class=anchor aria-hidden=true href=#add-an-install-button-in-website-optional>#</a></h2><p>Add this code to implement an install button:</p><p>Install App let deferredPrompt; const installButton = document.getElementById(&lsquo;installButton&rsquo;); installButton.style.display = &rsquo;none&rsquo;; window.addEventListener(&lsquo;beforeinstallprompt&rsquo;, (e) => { e.preventDefault(); deferredPrompt = e; installButton.style.display = &lsquo;block&rsquo;; installButton.addEventListener(&lsquo;click&rsquo;, () => { deferredPrompt.prompt(); deferredPrompt.userChoice.then((choiceResult) => { if (choiceResult.outcome === &lsquo;accepted&rsquo;) { console.log(&lsquo;User accepted the A2HS prompt&rsquo;); } else { console.log(&lsquo;User dismissed the A2HS prompt&rsquo;); } deferredPrompt = null; }); }); });</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=//localhost:1313/2025/01/blog-post_19.html><span class=title>Â« Prev</span><br><span>Blogger.com Copy Button</span>
</a><a class=next href=//localhost:1313/2025/01/how-to-unregister-all-service-worker.html><span class=title>Next Â»</span><br><span>How to unregister all service worker, from mobile and pc (Edge + Chrome)</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=//localhost:1313/>Sayfullah Sayeb</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a><p>Content is published under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0 license</a>.</p><p>Thanks to rail, whose website design inspired this site's design.</p></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>